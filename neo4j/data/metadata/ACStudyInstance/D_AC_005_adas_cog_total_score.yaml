# ============================================
# DERIVATION AC: ADAS-COG TOTAL SCORE (ACTOT)
# ADAS-Cog (11) = Alzheimer's Disease Assessment Scale-Cognitive Subscale (11-item)
#
# Calculates ACTOT total score from 10 individual items with missing value adjustment
# Per SAP Section 14.2: If >30% items missing (>3 of 10), total = missing
# Otherwise: ACTOT = SUM(available) × (70 / (70 - SUM(missing_item_ranges)))
# ============================================

AC_ID: D_AC_005
AC_TEMPLATE: T_AC_006
AC_NAME: ADAS-Cog Total Score (ACTOT)
AC_PURPOSE: Calculate ADAS-Cog total score (ACTOT) from 10 individual items with missing value adjustment

ONTOLOGY:
  STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000390
  STATO_LABEL: sum
  ADDITIONAL_IRIS:
    - IRI: http://purl.obolibrary.org/obo/STATO_0000002
      ONTOLOGY: STATO
      LABEL: data transformation

INPUTS:
  - INPUT_ID: D_AC_005_IN_001
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM01 - Word Recall Task (range 0-10)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM01'"

  - INPUT_ID: D_AC_005_IN_002
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM02 - Naming Objects and Fingers (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM02'"

  - INPUT_ID: D_AC_005_IN_003
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM04 - Commands (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM04'"

  - INPUT_ID: D_AC_005_IN_004
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM05 - Constructional Praxis (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM05'"

  - INPUT_ID: D_AC_005_IN_005
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM07 - Orientation (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM07'"

  - INPUT_ID: D_AC_005_IN_006
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM08 - Word Recognition Task (range 0-10)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM08'"

  - INPUT_ID: D_AC_005_IN_007
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM11 - Remembering Test Instructions (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM11'"

  - INPUT_ID: D_AC_005_IN_008
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM12 - Spoken Language Comprehension (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM12'"

  - INPUT_ID: D_AC_005_IN_009
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM13 - Word Finding Difficulty (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM13'"

  - INPUT_ID: D_AC_005_IN_010
    SOURCE_AC: D_AC_004
    SOURCE_CLASS_DATASET: null
    SOURCE_DATASET: null
    SOURCE_CLASS_VARIABLE: AVAL
    SOURCE_VARIABLE: AVAL
    ROLE: item_score
    DESCRIPTION: ACITM14 - Spoken Language Ability (range 0-5)
    REQUIRED: false
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000251
    SELECTION_CRITERIA: "PARAMCD = 'ACITM14'"

  - INPUT_ID: D_AC_005_IN_011
    SOURCE_AC: null
    SOURCE_CLASS_DATASET: "Basic Data Structure"
    SOURCE_DATASET: "ADQSADAS"
    SOURCE_CLASS_VARIABLE: USUBJID
    SOURCE_VARIABLE: USUBJID
    ROLE: grouping_variable
    DESCRIPTION: Unique Subject Identifier for grouping
    REQUIRED: true
    DATA_TYPE: Character
    MEASUREMENT_SCALE: nominal
    STATO_IRI: null
    SELECTION_CRITERIA: null

  - INPUT_ID: D_AC_005_IN_012
    SOURCE_AC: null
    SOURCE_CLASS_DATASET: "Basic Data Structure"
    SOURCE_DATASET: "ADQSADAS"
    SOURCE_CLASS_VARIABLE: AVISIT
    SOURCE_VARIABLE: AVISIT
    ROLE: grouping_variable
    DESCRIPTION: Analysis Visit for grouping
    REQUIRED: true
    DATA_TYPE: Character
    MEASUREMENT_SCALE: nominal
    STATO_IRI: null
    SELECTION_CRITERIA: null

  - INPUT_ID: D_AC_005_IN_013
    SOURCE_AC: null
    SOURCE_CLASS_DATASET: "Basic Data Structure"
    SOURCE_DATASET: "ADQSADAS"
    SOURCE_CLASS_VARIABLE: PARAMCD
    SOURCE_VARIABLE: PARAMCD
    ROLE: parameter
    DESCRIPTION: Parameter Code
    REQUIRED: true
    DATA_TYPE: Character
    MEASUREMENT_SCALE: nominal
    STATO_IRI: null
    SELECTION_CRITERIA: null

OUTPUTS:
  - OUTPUT_ID: D_AC_005_OUT_001
    VARIABLE_NAME: AVAL
    PARAMCD: ACTOT
    DESCRIPTION: ADAS-Cog total score with missing value adjustment
    DATA_TYPE: Numeric
    MEASUREMENT_SCALE: continuous
    STATO_IRI: http://purl.obolibrary.org/obo/STATO_0000390
    CARDINALITY: multiple
    BY_VARIABLES: ["USUBJID", "AVISIT"]

METHOD:
  IMPLEMENTATION: custom::sum_with_missing_adjustment
  PARAMETERS:
    operation: sum_with_missing_value_adjustment
    formula: "IF COUNT(missing_items) > 3 THEN missing ELSE SUM(available_items) × (70 / (70 - SUM(missing_item_ranges)))"
    description: "Sum of 10 ADAS-Cog items with missing value adjustment. If >30% items missing (>3 of 10), total is missing. Otherwise, adjust sum by multiplying by ratio of total scale range to available item ranges."
    item_ranges:
      ACITM01: 10
      ACITM02: 5
      ACITM04: 5
      ACITM05: 5
      ACITM07: 5
      ACITM08: 10
      ACITM11: 5
      ACITM12: 5
      ACITM13: 5
      ACITM14: 5

METADATA:
  VERSION: "1.0"
  CREATED_DATE: "2025-11-05"
  CREATED_BY: "CDISC Analysis Concepts Team"
  LAST_MODIFIED_DATE: "2025-11-05"
  LAST_MODIFIED_BY: "CDISC Analysis Concepts Team"
  STATUS: Active
  REVIEW_STATUS: Draft
  SOURCE: "CDISC Pilot Study ADQSADAS Dataset - SAP Section 14.2"
